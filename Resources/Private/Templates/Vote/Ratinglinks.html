<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
	xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	xmlns:thr="Thucke\ThRating\ViewHelpers"
	data-namespace-typo3-fluid="true">

<f:layout name="DefaultLayout" />

<f:section name="content">
<f:comment><!-- switch according display mode --></f:comment>
<f:if condition="{settings.fluid.templates.ratinglinks.likesMode}"><f:then>
	<span data-role="onVotingActive" style="{f:if(condition: voting, then: '', else: 'display:none;')}">
		<f:comment><!-- display if any vote has be done yet --></f:comment>
		<f:render partial="UsersRating" arguments="{voting:voting, ratingClass:ratingClass, ratingobject:rating.ratingobject, ratingName:ratingName, stepCount:stepCount, usersRate:usersRate}"/>
	</span>
	<span data-role="onVotingHidden" style="{f:if(condition: voting, then: 'display:none;', else: '')}">
		<f:comment><!-- display normal ratinglinkblock --></f:comment>
		<f:render partial="RatinglinkBlock" arguments="{voting:voting, ratingClass:ratingClass, ratingobject:rating.ratingobject, ratingName:ratingName, rating:rating, currentRates:rating.currentRates.currentrate, stepCount:stepCount, barimage:barimage, ajaxSelections:ajaxSelections}"/>
	</span>
</f:then><f:else>
	<f:if condition="{ratingName}"><f:then>
		<f:comment><!-- display normal ratinglinkblock --></f:comment>
		<f:render partial="RatinglinkBlock" arguments="{voting:voting, ratingClass:ratingClass, ratingobject:rating.ratingobject, ratingName:ratingName, rating:rating, currentRates:rating.currentRates.currentrate, stepCount:stepCount, barimage:barimage, ajaxSelections:ajaxSelections}"/>
	</f:then></f:if>
</f:else></f:if>
</f:section>
<f:comment>
<!--
******************************************************************************************
* Forwarded variables
* ********************
* ==> all variables used in defaultLayout
* {barimage}		-	ratingbar / noratingbar
* {rating}			-	the ratingObject
* {ratingName}		-	Name of the ratinglink
* {ratingClass}		-	tilt / normal
* {ajaxSelections}	-	associative array of possible ratingsteps consisting of
*						[order of ratingstep]
*							['step'] 		- Domain object: stepconf
*							['ajaxvalue']	- JSON encoded value to handle AJAX request
******************************************************************************************
-->
</f:comment>
